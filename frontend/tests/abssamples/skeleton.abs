//$Id: skeleton.abs 1007 2010-01-19 10:33:57Z atorjusen $
module Skeleton;

data Bool = True | False;  // builtin

//Interface declarations, extends is optional 
interface Foo1 {} 
interface Foo2 {}
interface Foo extends Foo1, Foo2 {} 

// "implements" is optional
class BazClass  {  }
class BazClass implements Foo1, Foo2 {  }

//Semicolon after variable or field declaration IFF there are declarations. 
//I.e 
//No semicolon if there are no declarations 
class FooClass implements Foo {  }


//Must have semicolon if there are declarations
class BarClass implements Foo { Int n ; Field f ; }

interface Bar { } 

interface Buffer {

    Unit init(Foo f, Bar b);
    Unit append(Int i);
    Data remove();

}


//Class declarations 
class BoundedBuffer implements Buffer {
    
    //var_or_field_decl_list
    ListofInt buffer;
    Int max ;
    Int n ;

    //Method list 
  
    Unit init(Foo x, Bar y){
		
	Int x;  Int y ; 


	return null ;
    
    }
	
    Unit append(Int i){ skip; return null ; }

}
//MAIN
{
    //var_or_field_decl_list
        Int x ; 
	Int y ; 
	Bool z ; 	
	Buffer o 	
	;
	//Stmts 
	//Assignments to pure expressions
	x = y ; 
	x = null ; 
	x = y.get ;
	x = True ;
	x = False ; 
	/* Assignments to expressions 
	   with side effects.
	 */
	x = new FooClass() ;
	//y = new cog FooClass() ; FIXME: support cog in Eclipse Plugin parser
	x = o!init();
	x = o!init(y);
	x = o!init(y,z);
	x = o.init(y,z,w);
	x = init(y,z); 
	//Await statements 
	await y? ; 
	await y? & z? ; 
	await y? & z? & w?  ;
	await True ; 
	//skip, suspend, if_th_else
	skip ; 
	suspend ; 
	if (x) y = True ; 
	if (x) y = True ; else y = False ;
	if (x) y = True ; else { y = False ; x = null ; } 
	

	//Stmtblock
	{ x = y ; skip ; await x? ; } 
    skip ;
	//Return  
    return null ;
}

